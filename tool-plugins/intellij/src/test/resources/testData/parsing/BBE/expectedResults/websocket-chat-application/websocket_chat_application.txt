Ballerina File(0,3522)
  BallerinaImportDeclarationImpl(IMPORT_DECLARATION)(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    BallerinaOrgNameImpl(ORG_NAME)(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    BallerinaCompletePackageNameImpl(COMPLETE_PACKAGE_NAME)(17,21)
      BallerinaPackageNameImpl(PACKAGE_NAME)(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  BallerinaImportDeclarationImpl(IMPORT_DECLARATION)(23,44)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    BallerinaOrgNameImpl(ORG_NAME)(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    BallerinaCompletePackageNameImpl(COMPLETE_PACKAGE_NAME)(40,43)
      BallerinaPackageNameImpl(PACKAGE_NAME)(40,43)
        PsiElement(identifier)('log')(40,43)
    PsiElement(;)(';')(43,44)
  PsiWhiteSpace('\n\n')(44,46)
  BallerinaDefinitionImpl(DEFINITION)(46,73)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(46,73)
      PsiElement(final)('final')(46,51)
      PsiWhiteSpace(' ')(51,52)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(52,58)
        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(52,58)
          PsiElement(string)('string')(52,58)
      PsiWhiteSpace(' ')(58,59)
      PsiElement(identifier)('NAME')(59,63)
      PsiWhiteSpace(' ')(63,64)
      PsiElement(=)('=')(64,65)
      PsiWhiteSpace(' ')(65,66)
      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(66,72)
        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(66,72)
          PsiElement(QUOTED_STRING_LITERAL)('"NAME"')(66,72)
      PsiElement(;)(';')(72,73)
  PsiWhiteSpace('\n')(73,74)
  BallerinaDefinitionImpl(DEFINITION)(74,99)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(74,99)
      PsiElement(final)('final')(74,79)
      PsiWhiteSpace(' ')(79,80)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(80,86)
        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(80,86)
          PsiElement(string)('string')(80,86)
      PsiWhiteSpace(' ')(86,87)
      PsiElement(identifier)('AGE')(87,90)
      PsiWhiteSpace(' ')(90,91)
      PsiElement(=)('=')(91,92)
      PsiWhiteSpace(' ')(92,93)
      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(93,98)
        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(93,98)
          PsiElement(QUOTED_STRING_LITERAL)('"AGE"')(93,98)
      PsiElement(;)(';')(98,99)
  PsiWhiteSpace('\n\n')(99,101)
  BallerinaDefinitionImpl(DEFINITION)(101,1825)
    BallerinaAnnotationAttachmentImpl(ANNOTATION_ATTACHMENT)(101,146)
      PsiElement(@)('@')(101,102)
      BallerinaNameReferenceImpl(NAME_REFERENCE)(102,120)
        BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(102,107)
          PsiElement(identifier)('http')(102,106)
          PsiElement(:)(':')(106,107)
        PsiElement(identifier)('ServiceConfig')(107,120)
      PsiWhiteSpace(' ')(120,121)
      BallerinaRecordLiteralImpl(RECORD_LITERAL)(121,146)
        PsiElement({)('{')(121,122)
        PsiWhiteSpace('\n    ')(122,127)
        BallerinaRecordLiteralBodyImpl(RECORD_LITERAL_BODY)(127,144)
          BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(127,144)
            BallerinaRecordKeyImpl(RECORD_KEY)(127,135)
              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(127,135)
                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(127,135)
                  BallerinaNameReferenceImpl(NAME_REFERENCE)(127,135)
                    PsiElement(identifier)('basePath')(127,135)
            PsiElement(:)(':')(135,136)
            PsiWhiteSpace(' ')(136,137)
            BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(137,144)
              BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(137,144)
                PsiElement(QUOTED_STRING_LITERAL)('"/chat"')(137,144)
        PsiWhiteSpace('\n')(144,145)
        PsiElement(})('}')(145,146)
    PsiWhiteSpace('\n')(146,147)
    BallerinaDefinitionImpl(DEFINITION)(147,1825)
      BallerinaServiceDefinitionImpl(SERVICE_DEFINITION)(147,1825)
        PsiElement(service)('service')(147,154)
        PsiWhiteSpace(' ')(154,155)
        PsiElement(identifier)('chatAppUpgrader')(155,170)
        PsiWhiteSpace(' ')(170,171)
        PsiElement(on)('on')(171,173)
        PsiWhiteSpace(' ')(173,174)
        BallerinaExpressionListImpl(EXPRESSION_LIST)(174,197)
          BallerinaTypeInitExpressionImpl(TYPE_INIT_EXPRESSION)(174,197)
            BallerinaInitWithTypeImpl(INIT_WITH_TYPE)(174,197)
              PsiElement(new)('new')(174,177)
              PsiWhiteSpace(' ')(177,178)
              BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(178,191)
                BallerinaNameReferenceImpl(NAME_REFERENCE)(178,191)
                  BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(178,183)
                    PsiElement(identifier)('http')(178,182)
                    PsiElement(:)(':')(182,183)
                  PsiElement(identifier)('Listener')(183,191)
              PsiElement(()('(')(191,192)
              BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(192,196)
                BallerinaInvocationArgImpl(INVOCATION_ARG)(192,196)
                  BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(192,196)
                    BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(192,196)
                      BallerinaIntegerLiteralImpl(INTEGER_LITERAL)(192,196)
                        PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(192,196)
              PsiElement())(')')(196,197)
        PsiWhiteSpace(' ')(197,198)
        BallerinaServiceBodyImpl(SERVICE_BODY)(198,1825)
          PsiElement({)('{')(198,199)
          PsiWhiteSpace('\n\n    ')(199,205)
          PsiComment(LINE_COMMENT)('// Upgrade from HTTP to WebSocket and define the service the WebSocket client needs to connect to.')(205,303)
          PsiWhiteSpace('\n    ')(303,308)
          BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(308,1823)
            BallerinaAnnotationAttachmentImpl(ANNOTATION_ATTACHMENT)(308,454)
              PsiElement(@)('@')(308,309)
              BallerinaNameReferenceImpl(NAME_REFERENCE)(309,328)
                BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(309,314)
                  PsiElement(identifier)('http')(309,313)
                  PsiElement(:)(':')(313,314)
                PsiElement(identifier)('ResourceConfig')(314,328)
              PsiWhiteSpace(' ')(328,329)
              BallerinaRecordLiteralImpl(RECORD_LITERAL)(329,454)
                PsiElement({)('{')(329,330)
                PsiWhiteSpace('\n        ')(330,339)
                BallerinaRecordLiteralBodyImpl(RECORD_LITERAL_BODY)(339,448)
                  BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(339,448)
                    BallerinaRecordKeyImpl(RECORD_KEY)(339,355)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(339,355)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(339,355)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(339,355)
                            PsiElement(identifier)('webSocketUpgrade')(339,355)
                    PsiElement(:)(':')(355,356)
                    PsiWhiteSpace(' ')(356,357)
                    BallerinaRecordLiteralExpressionImpl(RECORD_LITERAL_EXPRESSION)(357,448)
                      BallerinaRecordLiteralImpl(RECORD_LITERAL)(357,448)
                        PsiElement({)('{')(357,358)
                        PsiWhiteSpace('\n                ')(358,375)
                        BallerinaRecordLiteralBodyImpl(RECORD_LITERAL_BODY)(375,438)
                          BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(375,397)
                            BallerinaRecordKeyImpl(RECORD_KEY)(375,386)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(375,386)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(375,386)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(375,386)
                                    PsiElement(identifier)('upgradePath')(375,386)
                            PsiElement(:)(':')(386,387)
                            PsiWhiteSpace(' ')(387,388)
                            BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(388,397)
                              BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(388,397)
                                PsiElement(QUOTED_STRING_LITERAL)('"/{name}"')(388,397)
                          PsiElement(,)(',')(397,398)
                          PsiWhiteSpace('\n                ')(398,415)
                          BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(415,438)
                            BallerinaRecordKeyImpl(RECORD_KEY)(415,429)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(415,429)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(415,429)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(415,429)
                                    PsiElement(identifier)('upgradeService')(415,429)
                            PsiElement(:)(':')(429,430)
                            PsiWhiteSpace(' ')(430,431)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(431,438)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(431,438)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(431,438)
                                  PsiElement(identifier)('chatApp')(431,438)
                        PsiWhiteSpace('\n        ')(438,447)
                        PsiElement(})('}')(447,448)
                PsiWhiteSpace('\n    ')(448,453)
                PsiElement(})('}')(453,454)
            PsiWhiteSpace('\n    ')(454,459)
            PsiElement(resource)('resource')(459,467)
            PsiWhiteSpace(' ')(467,468)
            PsiElement(function)('function')(468,476)
            PsiWhiteSpace(' ')(476,477)
            BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(477,568)
              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(477,485)
                PsiElement(identifier)('upgrader')(477,485)
              PsiElement(()('(')(485,486)
              BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(486,567)
                BallerinaParameterImpl(PARAMETER)(486,504)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(486,497)
                    BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(486,497)
                      BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(486,497)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(486,497)
                          BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(486,491)
                            PsiElement(identifier)('http')(486,490)
                            PsiElement(:)(':')(490,491)
                          PsiElement(identifier)('Caller')(491,497)
                  PsiWhiteSpace(' ')(497,498)
                  PsiElement(identifier)('caller')(498,504)
                PsiElement(,)(',')(504,505)
                PsiWhiteSpace(' ')(505,506)
                BallerinaParameterImpl(PARAMETER)(506,522)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(506,518)
                    BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(506,518)
                      BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(506,518)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(506,518)
                          BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(506,511)
                            PsiElement(identifier)('http')(506,510)
                            PsiElement(:)(':')(510,511)
                          PsiElement(identifier)('Request')(511,518)
                  PsiWhiteSpace(' ')(518,519)
                  PsiElement(identifier)('req')(519,522)
                PsiElement(,)(',')(522,523)
                PsiWhiteSpace('\n                                ')(523,556)
                BallerinaParameterImpl(PARAMETER)(556,567)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(556,562)
                    BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(556,562)
                      PsiElement(string)('string')(556,562)
                  PsiWhiteSpace(' ')(562,563)
                  PsiElement(identifier)('name')(563,567)
              PsiElement())(')')(567,568)
            PsiWhiteSpace(' ')(568,569)
            BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(569,1823)
              PsiElement({)('{')(569,570)
              PsiWhiteSpace('\n        ')(570,579)
              BallerinaStatementImpl(STATEMENT)(579,605)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(579,605)
                  BallerinaVariableDefinitionStatementWithoutAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT)(579,605)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(579,599)
                      BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(579,599)
                        BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(579,599)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(579,599)
                            BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(579,584)
                              PsiElement(identifier)('http')(579,583)
                              PsiElement(:)(':')(583,584)
                            PsiElement(identifier)('WebSocketCaller')(584,599)
                    PsiWhiteSpace(' ')(599,600)
                    PsiElement(identifier)('wsEp')(600,604)
                    PsiElement(;)(';')(604,605)
              PsiWhiteSpace('\n        ')(605,614)
              PsiComment(LINE_COMMENT)('// Retrieve query parameters from the `http:Request`.')(614,667)
              PsiWhiteSpace('\n        ')(667,676)
              BallerinaStatementImpl(STATEMENT)(676,725)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(676,725)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(676,725)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(676,689)
                      BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(676,689)
                        BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(676,689)
                          BallerinaMapTypeNameImpl(MAP_TYPE_NAME)(676,689)
                            PsiElement(map)('map')(676,679)
                            PsiElement(<)('<')(679,680)
                            BallerinaArrayTypeNameImpl(ARRAY_TYPE_NAME)(680,688)
                              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(680,686)
                                BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(680,686)
                                  PsiElement(string)('string')(680,686)
                              PsiElement([)('[')(686,687)
                              PsiElement(])(']')(687,688)
                            PsiElement(>)('>')(688,689)
                    PsiWhiteSpace(' ')(689,690)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(690,701)
                      PsiElement(identifier)('queryParams')(690,701)
                    PsiWhiteSpace(' ')(701,702)
                    PsiElement(=)('=')(702,703)
                    PsiWhiteSpace(' ')(703,704)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(704,724)
                      BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(704,724)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(704,707)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(704,707)
                            PsiElement(identifier)('req')(704,707)
                        BallerinaInvocationImpl(INVOCATION)(707,724)
                          PsiElement(.)('.')(707,708)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(708,722)
                            PsiElement(identifier)('getQueryParams')(708,722)
                          PsiElement(()('(')(722,723)
                          PsiElement())(')')(723,724)
                    PsiElement(;)(';')(724,725)
              PsiWhiteSpace('\n        ')(725,734)
              PsiComment(LINE_COMMENT)('// Cancel the handshake by sending a 400 status code if the age parameter is missing in the request.')(734,834)
              PsiWhiteSpace('\n        ')(834,843)
              BallerinaStatementImpl(STATEMENT)(843,1118)
                BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(843,1118)
                  BallerinaIfClauseImpl(IF_CLAUSE)(843,1118)
                    PsiElement(if)('if')(843,845)
                    PsiWhiteSpace(' ')(845,846)
                    BallerinaGroupExpressionImpl(GROUP_EXPRESSION)(846,874)
                      PsiElement(()('(')(846,847)
                      BallerinaUnaryExpressionImpl(UNARY_EXPRESSION)(847,873)
                        PsiElement(!)('!')(847,848)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(848,873)
                          BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(848,873)
                            BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(848,859)
                              BallerinaNameReferenceImpl(NAME_REFERENCE)(848,859)
                                PsiElement(identifier)('queryParams')(848,859)
                            BallerinaInvocationImpl(INVOCATION)(859,873)
                              PsiElement(.)('.')(859,860)
                              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(860,866)
                                PsiElement(identifier)('hasKey')(860,866)
                              PsiElement(()('(')(866,867)
                              BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(867,872)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(867,872)
                                  BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(867,872)
                                    BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(867,872)
                                      PsiElement(QUOTED_STRING_LITERAL)('"age"')(867,872)
                              PsiElement())(')')(872,873)
                      PsiElement())(')')(873,874)
                    PsiWhiteSpace(' ')(874,875)
                    PsiElement({)('{')(875,876)
                    PsiWhiteSpace('\n            ')(876,889)
                    BallerinaBlockImpl(BLOCK)(889,1108)
                      BallerinaStatementImpl(STATEMENT)(889,954)
                        BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(889,954)
                          BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(889,954)
                            PsiElement(var)('var')(889,892)
                            PsiWhiteSpace(' ')(892,893)
                            BallerinaBindingPatternImpl(BINDING_PATTERN)(893,896)
                              PsiElement(identifier)('err')(893,896)
                            PsiWhiteSpace(' ')(896,897)
                            PsiElement(=)('=')(897,898)
                            PsiWhiteSpace(' ')(898,899)
                            BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(899,953)
                              BallerinaActionInvocationImpl(ACTION_INVOCATION)(899,953)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(899,905)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(899,905)
                                    PsiElement(identifier)('caller')(899,905)
                                PsiElement(->)('->')(905,907)
                                BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(907,953)
                                  BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(907,929)
                                    BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(907,929)
                                      PsiElement(identifier)('cancelWebSocketUpgrade')(907,929)
                                  PsiElement(()('(')(929,930)
                                  BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(930,952)
                                    BallerinaInvocationArgImpl(INVOCATION_ARG)(930,933)
                                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(930,933)
                                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(930,933)
                                          BallerinaIntegerLiteralImpl(INTEGER_LITERAL)(930,933)
                                            PsiElement(DECIMAL_INTEGER_LITERAL)('400')(930,933)
                                    PsiElement(,)(',')(933,934)
                                    PsiWhiteSpace(' ')(934,935)
                                    BallerinaInvocationArgImpl(INVOCATION_ARG)(935,952)
                                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(935,952)
                                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(935,952)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Age is required"')(935,952)
                                  PsiElement())(')')(952,953)
                            PsiElement(;)(';')(953,954)
                      PsiWhiteSpace('\n            ')(954,967)
                      BallerinaStatementImpl(STATEMENT)(967,1088)
                        BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(967,1088)
                          BallerinaIfClauseImpl(IF_CLAUSE)(967,1088)
                            PsiElement(if)('if')(967,969)
                            PsiWhiteSpace(' ')(969,970)
                            BallerinaGroupExpressionImpl(GROUP_EXPRESSION)(970,998)
                              PsiElement(()('(')(970,971)
                              BallerinaTypeTestExpressionImpl(TYPE_TEST_EXPRESSION)(971,997)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(971,974)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(971,974)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(971,974)
                                      PsiElement(identifier)('err')(971,974)
                                PsiWhiteSpace(' ')(974,975)
                                PsiElement(is)('is')(975,977)
                                PsiWhiteSpace(' ')(977,978)
                                BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(978,997)
                                  BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(978,997)
                                    BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(978,997)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(978,997)
                                        BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(978,983)
                                          PsiElement(identifier)('http')(978,982)
                                          PsiElement(:)(':')(982,983)
                                        PsiElement(identifier)('WebSocketError')(983,997)
                              PsiElement())(')')(997,998)
                            PsiWhiteSpace(' ')(998,999)
                            PsiElement({)('{')(999,1000)
                            PsiWhiteSpace('\n                ')(1000,1017)
                            BallerinaBlockImpl(BLOCK)(1017,1074)
                              BallerinaStatementImpl(STATEMENT)(1017,1074)
                                BallerinaExpressionStmtImpl(EXPRESSION_STMT)(1017,1074)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1017,1073)
                                    BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(1017,1073)
                                      BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(1017,1073)
                                        BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(1017,1031)
                                          BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1017,1021)
                                            PsiElement(identifier)('log')(1017,1020)
                                            PsiElement(:)(':')(1020,1021)
                                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1021,1031)
                                            PsiElement(identifier)('printError')(1021,1031)
                                        PsiElement(()('(')(1031,1032)
                                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1032,1072)
                                          BallerinaInvocationArgImpl(INVOCATION_ARG)(1032,1060)
                                            BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1032,1060)
                                              BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1032,1060)
                                                PsiElement(QUOTED_STRING_LITERAL)('"Error cancelling handshake"')(1032,1060)
                                          PsiElement(,)(',')(1060,1061)
                                          BallerinaInvocationArgImpl(INVOCATION_ARG)(1061,1072)
                                            BallerinaTypeConversionExpressionImpl(TYPE_CONVERSION_EXPRESSION)(1061,1072)
                                              PsiElement(<)('<')(1061,1062)
                                              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1062,1067)
                                                BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1062,1067)
                                                  BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1062,1067)
                                                    BallerinaErrorTypeNameImpl(ERROR_TYPE_NAME)(1062,1067)
                                                      PsiElement(error)('error')(1062,1067)
                                              PsiElement(>)('>')(1067,1068)
                                              PsiWhiteSpace(' ')(1068,1069)
                                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1069,1072)
                                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1069,1072)
                                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(1069,1072)
                                                    PsiElement(identifier)('err')(1069,1072)
                                        PsiElement())(')')(1072,1073)
                                  PsiElement(;)(';')(1073,1074)
                            PsiWhiteSpace('\n            ')(1074,1087)
                            PsiElement(})('}')(1087,1088)
                      PsiWhiteSpace('\n            ')(1088,1101)
                      BallerinaStatementImpl(STATEMENT)(1101,1108)
                        BallerinaReturnStatementImpl(RETURN_STATEMENT)(1101,1108)
                          PsiElement(return)('return')(1101,1107)
                          PsiElement(;)(';')(1107,1108)
                    PsiWhiteSpace('\n        ')(1108,1117)
                    PsiElement(})('}')(1117,1118)
              PsiWhiteSpace('\n        ')(1118,1127)
              BallerinaStatementImpl(STATEMENT)(1127,1152)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1127,1152)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1127,1152)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1127,1138)
                      BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1127,1138)
                        BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1127,1138)
                          BallerinaMapTypeNameImpl(MAP_TYPE_NAME)(1127,1138)
                            PsiElement(map)('map')(1127,1130)
                            PsiElement(<)('<')(1130,1131)
                            BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1131,1137)
                              BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(1131,1137)
                                PsiElement(string)('string')(1131,1137)
                            PsiElement(>)('>')(1137,1138)
                    PsiWhiteSpace(' ')(1138,1139)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(1139,1146)
                      PsiElement(identifier)('headers')(1139,1146)
                    PsiWhiteSpace(' ')(1146,1147)
                    PsiElement(=)('=')(1147,1148)
                    PsiWhiteSpace(' ')(1148,1149)
                    BallerinaRecordLiteralExpressionImpl(RECORD_LITERAL_EXPRESSION)(1149,1151)
                      BallerinaRecordLiteralImpl(RECORD_LITERAL)(1149,1151)
                        PsiElement({)('{')(1149,1150)
                        PsiElement(})('}')(1150,1151)
                    PsiElement(;)(';')(1151,1152)
              PsiWhiteSpace('\n        ')(1152,1161)
              BallerinaStatementImpl(STATEMENT)(1161,1208)
                BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(1161,1208)
                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1161,1165)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(1161,1165)
                      PsiElement(identifier)('wsEp')(1161,1165)
                  PsiWhiteSpace(' ')(1165,1166)
                  PsiElement(=)('=')(1166,1167)
                  PsiWhiteSpace(' ')(1167,1168)
                  BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(1168,1207)
                    BallerinaActionInvocationImpl(ACTION_INVOCATION)(1168,1207)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1168,1174)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(1168,1174)
                          PsiElement(identifier)('caller')(1168,1174)
                      PsiElement(->)('->')(1174,1176)
                      BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(1176,1207)
                        BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(1176,1198)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1176,1198)
                            PsiElement(identifier)('acceptWebSocketUpgrade')(1176,1198)
                        PsiElement(()('(')(1198,1199)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1199,1206)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(1199,1206)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1199,1206)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1199,1206)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(1199,1206)
                                  PsiElement(identifier)('headers')(1199,1206)
                        PsiElement())(')')(1206,1207)
                  PsiElement(;)(';')(1207,1208)
              PsiWhiteSpace('\n        ')(1208,1217)
              PsiComment(LINE_COMMENT)('// The attributes of the caller is useful for storing connection-specific data.')(1217,1296)
              PsiWhiteSpace('\n        ')(1296,1305)
              PsiComment(LINE_COMMENT)('// In this case, the `NAME`and `AGE` are unique to each connection.')(1305,1372)
              PsiWhiteSpace('\n        ')(1372,1381)
              BallerinaStatementImpl(STATEMENT)(1381,1411)
                BallerinaExpressionStmtImpl(EXPRESSION_STMT)(1381,1411)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1381,1410)
                    BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(1381,1410)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1381,1385)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(1381,1385)
                          PsiElement(identifier)('wsEp')(1381,1385)
                      BallerinaInvocationImpl(INVOCATION)(1385,1410)
                        PsiElement(.)('.')(1385,1386)
                        BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1386,1398)
                          PsiElement(identifier)('setAttribute')(1386,1398)
                        PsiElement(()('(')(1398,1399)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1399,1409)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(1399,1403)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1399,1403)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1399,1403)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(1399,1403)
                                  PsiElement(identifier)('NAME')(1399,1403)
                          PsiElement(,)(',')(1403,1404)
                          PsiWhiteSpace(' ')(1404,1405)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(1405,1409)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1405,1409)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1405,1409)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(1405,1409)
                                  PsiElement(identifier)('name')(1405,1409)
                        PsiElement())(')')(1409,1410)
                  PsiElement(;)(';')(1410,1411)
              PsiWhiteSpace('\n        ')(1411,1420)
              BallerinaStatementImpl(STATEMENT)(1420,1469)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1420,1469)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1420,1469)
                    BallerinaNullableTypeNameImpl(NULLABLE_TYPE_NAME)(1420,1427)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1420,1426)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(1420,1426)
                          PsiElement(string)('string')(1420,1426)
                      PsiElement(?)('?')(1426,1427)
                    PsiWhiteSpace(' ')(1427,1428)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(1428,1436)
                      PsiElement(identifier)('ageValue')(1428,1436)
                    PsiWhiteSpace(' ')(1436,1437)
                    PsiElement(=)('=')(1437,1438)
                    PsiWhiteSpace(' ')(1438,1439)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1439,1468)
                      BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(1439,1468)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1439,1442)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1439,1442)
                            PsiElement(identifier)('req')(1439,1442)
                        BallerinaInvocationImpl(INVOCATION)(1442,1468)
                          PsiElement(.)('.')(1442,1443)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1443,1461)
                            PsiElement(identifier)('getQueryParamValue')(1443,1461)
                          PsiElement(()('(')(1461,1462)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1462,1467)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(1462,1467)
                              BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1462,1467)
                                BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1462,1467)
                                  PsiElement(QUOTED_STRING_LITERAL)('"age"')(1462,1467)
                          PsiElement())(')')(1467,1468)
                    PsiElement(;)(';')(1468,1469)
              PsiWhiteSpace('\n        ')(1469,1478)
              BallerinaStatementImpl(STATEMENT)(1478,1526)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1478,1526)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1478,1526)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1478,1484)
                      BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(1478,1484)
                        PsiElement(string)('string')(1478,1484)
                    PsiWhiteSpace(' ')(1484,1485)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(1485,1488)
                      PsiElement(identifier)('age')(1485,1488)
                    PsiWhiteSpace(' ')(1488,1489)
                    PsiElement(=)('=')(1489,1490)
                    PsiWhiteSpace(' ')(1490,1491)
                    BallerinaTernaryExpressionImpl(TERNARY_EXPRESSION)(1491,1525)
                      BallerinaTypeTestExpressionImpl(TYPE_TEST_EXPRESSION)(1491,1509)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1491,1499)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1491,1499)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(1491,1499)
                              PsiElement(identifier)('ageValue')(1491,1499)
                        PsiWhiteSpace(' ')(1499,1500)
                        PsiElement(is)('is')(1500,1502)
                        PsiWhiteSpace(' ')(1502,1503)
                        BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1503,1509)
                          BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(1503,1509)
                            PsiElement(string)('string')(1503,1509)
                      PsiWhiteSpace(' ')(1509,1510)
                      PsiElement(?)('?')(1510,1511)
                      PsiWhiteSpace(' ')(1511,1512)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1512,1520)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1512,1520)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1512,1520)
                            PsiElement(identifier)('ageValue')(1512,1520)
                      PsiWhiteSpace(' ')(1520,1521)
                      PsiElement(:)(':')(1521,1522)
                      PsiWhiteSpace(' ')(1522,1523)
                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1523,1525)
                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1523,1525)
                          PsiElement(QUOTED_STRING_LITERAL)('""')(1523,1525)
                    PsiElement(;)(';')(1525,1526)
              PsiWhiteSpace('\n        ')(1526,1535)
              BallerinaStatementImpl(STATEMENT)(1535,1563)
                BallerinaExpressionStmtImpl(EXPRESSION_STMT)(1535,1563)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1535,1562)
                    BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(1535,1562)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1535,1539)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(1535,1539)
                          PsiElement(identifier)('wsEp')(1535,1539)
                      BallerinaInvocationImpl(INVOCATION)(1539,1562)
                        PsiElement(.)('.')(1539,1540)
                        BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1540,1552)
                          PsiElement(identifier)('setAttribute')(1540,1552)
                        PsiElement(()('(')(1552,1553)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1553,1561)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(1553,1556)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1553,1556)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1553,1556)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(1553,1556)
                                  PsiElement(identifier)('AGE')(1553,1556)
                          PsiElement(,)(',')(1556,1557)
                          PsiWhiteSpace(' ')(1557,1558)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(1558,1561)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1558,1561)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1558,1561)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(1558,1561)
                                  PsiElement(identifier)('age')(1558,1561)
                        PsiElement())(')')(1561,1562)
                  PsiElement(;)(';')(1562,1563)
              PsiWhiteSpace('\n        ')(1563,1572)
              BallerinaStatementImpl(STATEMENT)(1572,1660)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1572,1660)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1572,1660)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1572,1578)
                      BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(1572,1578)
                        PsiElement(string)('string')(1572,1578)
                    PsiWhiteSpace(' ')(1578,1579)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(1579,1582)
                      PsiElement(identifier)('msg')(1579,1582)
                    PsiWhiteSpace(' ')(1582,1583)
                    PsiElement(=)('=')(1583,1584)
                    PsiWhiteSpace('\n            ')(1584,1597)
                    BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(1597,1659)
                      BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(1597,1609)
                        BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1597,1602)
                          BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1597,1602)
                            PsiElement(QUOTED_STRING_LITERAL)('"Hi "')(1597,1602)
                        PsiWhiteSpace(' ')(1602,1603)
                        PsiElement(+)('+')(1603,1604)
                        PsiWhiteSpace(' ')(1604,1605)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1605,1609)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1605,1609)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(1605,1609)
                              PsiElement(identifier)('name')(1605,1609)
                      PsiWhiteSpace(' ')(1609,1610)
                      PsiElement(+)('+')(1610,1611)
                      PsiWhiteSpace(' ')(1611,1612)
                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1612,1659)
                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1612,1659)
                          PsiElement(QUOTED_STRING_LITERAL)('"! You have successfully connected to the chat"')(1612,1659)
                    PsiElement(;)(';')(1659,1660)
              PsiWhiteSpace('\n        ')(1660,1669)
              BallerinaStatementImpl(STATEMENT)(1669,1699)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1669,1699)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1669,1699)
                    PsiElement(var)('var')(1669,1672)
                    PsiWhiteSpace(' ')(1672,1673)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(1673,1676)
                      PsiElement(identifier)('err')(1673,1676)
                    PsiWhiteSpace(' ')(1676,1677)
                    PsiElement(=)('=')(1677,1678)
                    PsiWhiteSpace(' ')(1678,1679)
                    BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(1679,1698)
                      BallerinaActionInvocationImpl(ACTION_INVOCATION)(1679,1698)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1679,1683)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1679,1683)
                            PsiElement(identifier)('wsEp')(1679,1683)
                        PsiElement(->)('->')(1683,1685)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(1685,1698)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(1685,1693)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1685,1693)
                              PsiElement(identifier)('pushText')(1685,1693)
                          PsiElement(()('(')(1693,1694)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1694,1697)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(1694,1697)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1694,1697)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1694,1697)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(1694,1697)
                                    PsiElement(identifier)('msg')(1694,1697)
                          PsiElement())(')')(1697,1698)
                    PsiElement(;)(';')(1698,1699)
              PsiWhiteSpace('\n        ')(1699,1708)
              BallerinaStatementImpl(STATEMENT)(1708,1817)
                BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(1708,1817)
                  BallerinaIfClauseImpl(IF_CLAUSE)(1708,1817)
                    PsiElement(if)('if')(1708,1710)
                    PsiWhiteSpace(' ')(1710,1711)
                    BallerinaGroupExpressionImpl(GROUP_EXPRESSION)(1711,1739)
                      PsiElement(()('(')(1711,1712)
                      BallerinaTypeTestExpressionImpl(TYPE_TEST_EXPRESSION)(1712,1738)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1712,1715)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1712,1715)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(1712,1715)
                              PsiElement(identifier)('err')(1712,1715)
                        PsiWhiteSpace(' ')(1715,1716)
                        PsiElement(is)('is')(1716,1718)
                        PsiWhiteSpace(' ')(1718,1719)
                        BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1719,1738)
                          BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1719,1738)
                            BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(1719,1738)
                              BallerinaNameReferenceImpl(NAME_REFERENCE)(1719,1738)
                                BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1719,1724)
                                  PsiElement(identifier)('http')(1719,1723)
                                  PsiElement(:)(':')(1723,1724)
                                PsiElement(identifier)('WebSocketError')(1724,1738)
                      PsiElement())(')')(1738,1739)
                    PsiWhiteSpace(' ')(1739,1740)
                    PsiElement({)('{')(1740,1741)
                    PsiWhiteSpace('\n            ')(1741,1754)
                    BallerinaBlockImpl(BLOCK)(1754,1807)
                      BallerinaStatementImpl(STATEMENT)(1754,1807)
                        BallerinaExpressionStmtImpl(EXPRESSION_STMT)(1754,1807)
                          BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1754,1806)
                            BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(1754,1806)
                              BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(1754,1806)
                                BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(1754,1768)
                                  BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1754,1758)
                                    PsiElement(identifier)('log')(1754,1757)
                                    PsiElement(:)(':')(1757,1758)
                                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1758,1768)
                                    PsiElement(identifier)('printError')(1758,1768)
                                PsiElement(()('(')(1768,1769)
                                BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1769,1805)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(1769,1792)
                                    BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1769,1792)
                                      BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1769,1792)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(1769,1792)
                                  PsiElement(,)(',')(1792,1793)
                                  PsiWhiteSpace(' ')(1793,1794)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(1794,1805)
                                    BallerinaTypeConversionExpressionImpl(TYPE_CONVERSION_EXPRESSION)(1794,1805)
                                      PsiElement(<)('<')(1794,1795)
                                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1795,1800)
                                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1795,1800)
                                          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1795,1800)
                                            BallerinaErrorTypeNameImpl(ERROR_TYPE_NAME)(1795,1800)
                                              PsiElement(error)('error')(1795,1800)
                                      PsiElement(>)('>')(1800,1801)
                                      PsiWhiteSpace(' ')(1801,1802)
                                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1802,1805)
                                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1802,1805)
                                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1802,1805)
                                            PsiElement(identifier)('err')(1802,1805)
                                PsiElement())(')')(1805,1806)
                          PsiElement(;)(';')(1806,1807)
                    PsiWhiteSpace('\n        ')(1807,1816)
                    PsiElement(})('}')(1816,1817)
              PsiWhiteSpace('\n    ')(1817,1822)
              PsiElement(})('}')(1822,1823)
          PsiWhiteSpace('\n')(1823,1824)
          PsiElement(})('}')(1824,1825)
  PsiWhiteSpace('\n\n')(1825,1827)
  PsiComment(LINE_COMMENT)('// Stores the connection IDs of users who join the chat.')(1827,1883)
  PsiWhiteSpace('\n')(1883,1884)
  BallerinaDefinitionImpl(DEFINITION)(1884,1930)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(1884,1930)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1884,1909)
        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1884,1909)
          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1884,1909)
            BallerinaMapTypeNameImpl(MAP_TYPE_NAME)(1884,1909)
              PsiElement(map)('map')(1884,1887)
              PsiElement(<)('<')(1887,1888)
              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1888,1908)
                BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1888,1908)
                  BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(1888,1908)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(1888,1908)
                      BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1888,1893)
                        PsiElement(identifier)('http')(1888,1892)
                        PsiElement(:)(':')(1892,1893)
                      PsiElement(identifier)('WebSocketCaller')(1893,1908)
              PsiElement(>)('>')(1908,1909)
      PsiWhiteSpace(' ')(1909,1910)
      PsiElement(identifier)('connectionsMap')(1910,1924)
      PsiWhiteSpace(' ')(1924,1925)
      PsiElement(=)('=')(1925,1926)
      PsiWhiteSpace(' ')(1926,1927)
      BallerinaRecordLiteralExpressionImpl(RECORD_LITERAL_EXPRESSION)(1927,1929)
        BallerinaRecordLiteralImpl(RECORD_LITERAL)(1927,1929)
          PsiElement({)('{')(1927,1928)
          PsiElement(})('}')(1928,1929)
      PsiElement(;)(';')(1929,1930)
  PsiWhiteSpace('\n\n')(1930,1932)
  BallerinaDefinitionImpl(DEFINITION)(1932,3062)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(1932,3062)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1932,1939)
        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1932,1939)
          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1932,1939)
            BallerinaServiceTypeNameImpl(SERVICE_TYPE_NAME)(1932,1939)
              PsiElement(service)('service')(1932,1939)
      PsiWhiteSpace(' ')(1939,1940)
      PsiElement(identifier)('chatApp')(1940,1947)
      PsiWhiteSpace(' ')(1947,1948)
      PsiElement(=)('=')(1948,1949)
      PsiWhiteSpace(' ')(1949,1950)
      BallerinaServiceConstructorExpressionImpl(SERVICE_CONSTRUCTOR_EXPRESSION)(1950,3061)
        BallerinaAnnotationAttachmentImpl(ANNOTATION_ATTACHMENT)(1950,1981)
          PsiElement(@)('@')(1950,1951)
          BallerinaNameReferenceImpl(NAME_REFERENCE)(1951,1978)
            BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1951,1956)
              PsiElement(identifier)('http')(1951,1955)
              PsiElement(:)(':')(1955,1956)
            PsiElement(identifier)('WebSocketServiceConfig')(1956,1978)
          PsiWhiteSpace(' ')(1978,1979)
          BallerinaRecordLiteralImpl(RECORD_LITERAL)(1979,1981)
            PsiElement({)('{')(1979,1980)
            PsiElement(})('}')(1980,1981)
        PsiWhiteSpace(' ')(1981,1982)
        PsiElement(service)('service')(1982,1989)
        PsiWhiteSpace(' ')(1989,1990)
        BallerinaServiceBodyImpl(SERVICE_BODY)(1990,3061)
          PsiElement({)('{')(1990,1991)
          PsiWhiteSpace('\n\n    ')(1991,1997)
          PsiComment(LINE_COMMENT)('// Once a user connects to the chat, store the attributes of the user, such as username and age, and')(1997,2097)
          PsiWhiteSpace('\n    ')(2097,2102)
          PsiComment(LINE_COMMENT)('// broadcast that the user has joined the chat.')(2102,2149)
          PsiWhiteSpace('\n    ')(2149,2154)
          BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(2154,2452)
            PsiElement(resource)('resource')(2154,2162)
            PsiWhiteSpace(' ')(2162,2163)
            PsiElement(function)('function')(2163,2171)
            PsiWhiteSpace(' ')(2171,2172)
            BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(2172,2207)
              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2172,2178)
                PsiElement(identifier)('onOpen')(2172,2178)
              PsiElement(()('(')(2178,2179)
              BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(2179,2206)
                BallerinaParameterImpl(PARAMETER)(2179,2206)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2179,2199)
                    BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(2179,2199)
                      BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(2179,2199)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2179,2199)
                          BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2179,2184)
                            PsiElement(identifier)('http')(2179,2183)
                            PsiElement(:)(':')(2183,2184)
                          PsiElement(identifier)('WebSocketCaller')(2184,2199)
                  PsiWhiteSpace(' ')(2199,2200)
                  PsiElement(identifier)('caller')(2200,2206)
              PsiElement())(')')(2206,2207)
            PsiWhiteSpace(' ')(2207,2208)
            BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(2208,2452)
              PsiElement({)('{')(2208,2209)
              PsiWhiteSpace('\n        ')(2209,2218)
              BallerinaStatementImpl(STATEMENT)(2218,2229)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(2218,2229)
                  BallerinaVariableDefinitionStatementWithoutAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT)(2218,2229)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2218,2224)
                      BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2218,2224)
                        PsiElement(string)('string')(2218,2224)
                    PsiWhiteSpace(' ')(2224,2225)
                    PsiElement(identifier)('msg')(2225,2228)
                    PsiElement(;)(';')(2228,2229)
              PsiWhiteSpace('\n        ')(2229,2238)
              BallerinaStatementImpl(STATEMENT)(2238,2363)
                BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(2238,2363)
                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2238,2241)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(2238,2241)
                      PsiElement(identifier)('msg')(2238,2241)
                  PsiWhiteSpace(' ')(2241,2242)
                  PsiElement(=)('=')(2242,2243)
                  PsiWhiteSpace(' ')(2243,2244)
                  BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2244,2362)
                    BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2244,2339)
                      BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2244,2288)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2244,2273)
                          BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2244,2273)
                            BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2244,2273)
                              BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2244,2259)
                                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2244,2259)
                                  PsiElement(identifier)('getAttributeStr')(2244,2259)
                              PsiElement(()('(')(2259,2260)
                              BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2260,2272)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2260,2266)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2260,2266)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2260,2266)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2260,2266)
                                        PsiElement(identifier)('caller')(2260,2266)
                                PsiElement(,)(',')(2266,2267)
                                PsiWhiteSpace(' ')(2267,2268)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2268,2272)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2268,2272)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2268,2272)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2268,2272)
                                        PsiElement(identifier)('NAME')(2268,2272)
                              PsiElement())(')')(2272,2273)
                        PsiWhiteSpace(' ')(2273,2274)
                        PsiElement(+)('+')(2274,2275)
                        PsiWhiteSpace(' ')(2275,2276)
                        BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(2276,2288)
                          BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(2276,2288)
                            PsiElement(QUOTED_STRING_LITERAL)('" with age "')(2276,2288)
                      PsiWhiteSpace('\n                    ')(2288,2309)
                      PsiElement(+)('+')(2309,2310)
                      PsiWhiteSpace(' ')(2310,2311)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2311,2339)
                        BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2311,2339)
                          BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2311,2339)
                            BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2311,2326)
                              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2311,2326)
                                PsiElement(identifier)('getAttributeStr')(2311,2326)
                            PsiElement(()('(')(2326,2327)
                            BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2327,2338)
                              BallerinaInvocationArgImpl(INVOCATION_ARG)(2327,2333)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2327,2333)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2327,2333)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(2327,2333)
                                      PsiElement(identifier)('caller')(2327,2333)
                              PsiElement(,)(',')(2333,2334)
                              PsiWhiteSpace(' ')(2334,2335)
                              BallerinaInvocationArgImpl(INVOCATION_ARG)(2335,2338)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2335,2338)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2335,2338)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(2335,2338)
                                      PsiElement(identifier)('AGE')(2335,2338)
                            PsiElement())(')')(2338,2339)
                    PsiWhiteSpace(' ')(2339,2340)
                    PsiElement(+)('+')(2340,2341)
                    PsiWhiteSpace(' ')(2341,2342)
                    BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(2342,2362)
                      BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(2342,2362)
                        PsiElement(QUOTED_STRING_LITERAL)('" connected to chat"')(2342,2362)
                  PsiElement(;)(';')(2362,2363)
              PsiWhiteSpace('\n        ')(2363,2372)
              BallerinaStatementImpl(STATEMENT)(2372,2387)
                BallerinaExpressionStmtImpl(EXPRESSION_STMT)(2372,2387)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2372,2386)
                    BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2372,2386)
                      BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2372,2386)
                        BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2372,2381)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2372,2381)
                            PsiElement(identifier)('broadcast')(2372,2381)
                        PsiElement(()('(')(2381,2382)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2382,2385)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(2382,2385)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2382,2385)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2382,2385)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(2382,2385)
                                  PsiElement(identifier)('msg')(2382,2385)
                        PsiElement())(')')(2385,2386)
                  PsiElement(;)(';')(2386,2387)
              PsiWhiteSpace('\n        ')(2387,2396)
              BallerinaStatementImpl(STATEMENT)(2396,2446)
                BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(2396,2446)
                  BallerinaMapArrayVariableReferenceImpl(MAP_ARRAY_VARIABLE_REFERENCE)(2396,2436)
                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2396,2410)
                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2396,2410)
                        PsiElement(identifier)('connectionsMap')(2396,2410)
                    BallerinaIndexImpl(INDEX)(2410,2436)
                      PsiElement([)('[')(2410,2411)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2411,2435)
                        BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(2411,2435)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2411,2417)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(2411,2417)
                              PsiElement(identifier)('caller')(2411,2417)
                          BallerinaInvocationImpl(INVOCATION)(2417,2435)
                            PsiElement(.)('.')(2417,2418)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2418,2433)
                              PsiElement(identifier)('getConnectionId')(2418,2433)
                            PsiElement(()('(')(2433,2434)
                            PsiElement())(')')(2434,2435)
                      PsiElement(])(']')(2435,2436)
                  PsiWhiteSpace(' ')(2436,2437)
                  PsiElement(=)('=')(2437,2438)
                  PsiWhiteSpace(' ')(2438,2439)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2439,2445)
                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2439,2445)
                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2439,2445)
                        PsiElement(identifier)('caller')(2439,2445)
                  PsiElement(;)(';')(2445,2446)
              PsiWhiteSpace('\n    ')(2446,2451)
              PsiElement(})('}')(2451,2452)
          PsiWhiteSpace('\n\n    ')(2452,2458)
          PsiComment(LINE_COMMENT)('// Broadcast the messages sent by a user.')(2458,2499)
          PsiWhiteSpace('\n    ')(2499,2504)
          BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(2504,2696)
            PsiElement(resource)('resource')(2504,2512)
            PsiWhiteSpace(' ')(2512,2513)
            PsiElement(function)('function')(2513,2521)
            PsiWhiteSpace(' ')(2521,2522)
            BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(2522,2570)
              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2522,2528)
                PsiElement(identifier)('onText')(2522,2528)
              PsiElement(()('(')(2528,2529)
              BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(2529,2569)
                BallerinaParameterImpl(PARAMETER)(2529,2556)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2529,2549)
                    BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(2529,2549)
                      BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(2529,2549)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2529,2549)
                          BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2529,2534)
                            PsiElement(identifier)('http')(2529,2533)
                            PsiElement(:)(':')(2533,2534)
                          PsiElement(identifier)('WebSocketCaller')(2534,2549)
                  PsiWhiteSpace(' ')(2549,2550)
                  PsiElement(identifier)('caller')(2550,2556)
                PsiElement(,)(',')(2556,2557)
                PsiWhiteSpace(' ')(2557,2558)
                BallerinaParameterImpl(PARAMETER)(2558,2569)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2558,2564)
                    BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2558,2564)
                      PsiElement(string)('string')(2558,2564)
                  PsiWhiteSpace(' ')(2564,2565)
                  PsiElement(identifier)('text')(2565,2569)
              PsiElement())(')')(2569,2570)
            PsiWhiteSpace(' ')(2570,2571)
            BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(2571,2696)
              PsiElement({)('{')(2571,2572)
              PsiWhiteSpace('\n        ')(2572,2581)
              BallerinaStatementImpl(STATEMENT)(2581,2638)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(2581,2638)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(2581,2638)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2581,2587)
                      BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2581,2587)
                        PsiElement(string)('string')(2581,2587)
                    PsiWhiteSpace(' ')(2587,2588)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(2588,2591)
                      PsiElement(identifier)('msg')(2588,2591)
                    PsiWhiteSpace(' ')(2591,2592)
                    PsiElement(=)('=')(2592,2593)
                    PsiWhiteSpace(' ')(2593,2594)
                    BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2594,2637)
                      BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2594,2630)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2594,2623)
                          BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2594,2623)
                            BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2594,2623)
                              BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2594,2609)
                                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2594,2609)
                                  PsiElement(identifier)('getAttributeStr')(2594,2609)
                              PsiElement(()('(')(2609,2610)
                              BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2610,2622)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2610,2616)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2610,2616)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2610,2616)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2610,2616)
                                        PsiElement(identifier)('caller')(2610,2616)
                                PsiElement(,)(',')(2616,2617)
                                PsiWhiteSpace(' ')(2617,2618)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2618,2622)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2618,2622)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2618,2622)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2618,2622)
                                        PsiElement(identifier)('NAME')(2618,2622)
                              PsiElement())(')')(2622,2623)
                        PsiWhiteSpace(' ')(2623,2624)
                        PsiElement(+)('+')(2624,2625)
                        PsiWhiteSpace(' ')(2625,2626)
                        BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(2626,2630)
                          BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(2626,2630)
                            PsiElement(QUOTED_STRING_LITERAL)('": "')(2626,2630)
                      PsiWhiteSpace(' ')(2630,2631)
                      PsiElement(+)('+')(2631,2632)
                      PsiWhiteSpace(' ')(2632,2633)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2633,2637)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2633,2637)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(2633,2637)
                            PsiElement(identifier)('text')(2633,2637)
                    PsiElement(;)(';')(2637,2638)
              PsiWhiteSpace('\n        ')(2638,2647)
              BallerinaStatementImpl(STATEMENT)(2647,2666)
                BallerinaExpressionStmtImpl(EXPRESSION_STMT)(2647,2666)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2647,2665)
                    BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2647,2665)
                      BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2647,2665)
                        BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2647,2660)
                          BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2647,2651)
                            PsiElement(identifier)('log')(2647,2650)
                            PsiElement(:)(':')(2650,2651)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2651,2660)
                            PsiElement(identifier)('printInfo')(2651,2660)
                        PsiElement(()('(')(2660,2661)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2661,2664)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(2661,2664)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2661,2664)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2661,2664)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(2661,2664)
                                  PsiElement(identifier)('msg')(2661,2664)
                        PsiElement())(')')(2664,2665)
                  PsiElement(;)(';')(2665,2666)
              PsiWhiteSpace('\n        ')(2666,2675)
              BallerinaStatementImpl(STATEMENT)(2675,2690)
                BallerinaExpressionStmtImpl(EXPRESSION_STMT)(2675,2690)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2675,2689)
                    BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2675,2689)
                      BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2675,2689)
                        BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2675,2684)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2675,2684)
                            PsiElement(identifier)('broadcast')(2675,2684)
                        PsiElement(()('(')(2684,2685)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2685,2688)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(2685,2688)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2685,2688)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2685,2688)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(2685,2688)
                                  PsiElement(identifier)('msg')(2685,2688)
                        PsiElement())(')')(2688,2689)
                  PsiElement(;)(';')(2689,2690)
              PsiWhiteSpace('\n    ')(2690,2695)
              PsiElement(})('}')(2695,2696)
          PsiWhiteSpace('\n\n    ')(2696,2702)
          PsiComment(LINE_COMMENT)('// Broadcast that a user has left the chat once a user leaves the chat.')(2702,2773)
          PsiWhiteSpace('\n    ')(2773,2778)
          BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(2778,3059)
            PsiElement(resource)('resource')(2778,2786)
            PsiWhiteSpace(' ')(2786,2787)
            PsiElement(function)('function')(2787,2795)
            PsiWhiteSpace(' ')(2795,2796)
            BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(2796,2895)
              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2796,2803)
                PsiElement(identifier)('onClose')(2796,2803)
              PsiElement(()('(')(2803,2804)
              BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(2804,2894)
                BallerinaParameterImpl(PARAMETER)(2804,2831)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2804,2824)
                    BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(2804,2824)
                      BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(2804,2824)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2804,2824)
                          BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2804,2809)
                            PsiElement(identifier)('http')(2804,2808)
                            PsiElement(:)(':')(2808,2809)
                          PsiElement(identifier)('WebSocketCaller')(2809,2824)
                  PsiWhiteSpace(' ')(2824,2825)
                  PsiElement(identifier)('caller')(2825,2831)
                PsiElement(,)(',')(2831,2832)
                PsiWhiteSpace(' ')(2832,2833)
                BallerinaParameterImpl(PARAMETER)(2833,2847)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2833,2836)
                    BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2833,2836)
                      PsiElement(int)('int')(2833,2836)
                  PsiWhiteSpace(' ')(2836,2837)
                  PsiElement(identifier)('statusCode')(2837,2847)
                PsiElement(,)(',')(2847,2848)
                PsiWhiteSpace('\n                                ')(2848,2881)
                BallerinaParameterImpl(PARAMETER)(2881,2894)
                  BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2881,2887)
                    BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2881,2887)
                      PsiElement(string)('string')(2881,2887)
                  PsiWhiteSpace(' ')(2887,2888)
                  PsiElement(identifier)('reason')(2888,2894)
              PsiElement())(')')(2894,2895)
            PsiWhiteSpace(' ')(2895,2896)
            BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(2896,3059)
              PsiElement({)('{')(2896,2897)
              PsiWhiteSpace('\n        ')(2897,2906)
              BallerinaStatementImpl(STATEMENT)(2906,2958)
                BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(2906,2958)
                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2906,2907)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(2906,2907)
                      PsiElement(identifier)('_')(2906,2907)
                  PsiWhiteSpace(' ')(2907,2908)
                  PsiElement(=)('=')(2908,2909)
                  PsiWhiteSpace(' ')(2909,2910)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2910,2957)
                    BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(2910,2957)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2910,2924)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2910,2924)
                          PsiElement(identifier)('connectionsMap')(2910,2924)
                      BallerinaInvocationImpl(INVOCATION)(2924,2957)
                        PsiElement(.)('.')(2924,2925)
                        BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2925,2931)
                          PsiElement(identifier)('remove')(2925,2931)
                        PsiElement(()('(')(2931,2932)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2932,2956)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(2932,2956)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2932,2956)
                              BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(2932,2956)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2932,2938)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(2932,2938)
                                    PsiElement(identifier)('caller')(2932,2938)
                                BallerinaInvocationImpl(INVOCATION)(2938,2956)
                                  PsiElement(.)('.')(2938,2939)
                                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2939,2954)
                                    PsiElement(identifier)('getConnectionId')(2939,2954)
                                  PsiElement(()('(')(2954,2955)
                                  PsiElement())(')')(2955,2956)
                        PsiElement())(')')(2956,2957)
                  PsiElement(;)(';')(2957,2958)
              PsiWhiteSpace('\n        ')(2958,2967)
              BallerinaStatementImpl(STATEMENT)(2967,3029)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(2967,3029)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(2967,3029)
                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2967,2973)
                      BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2967,2973)
                        PsiElement(string)('string')(2967,2973)
                    PsiWhiteSpace(' ')(2973,2974)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(2974,2977)
                      PsiElement(identifier)('msg')(2974,2977)
                    PsiWhiteSpace(' ')(2977,2978)
                    PsiElement(=)('=')(2978,2979)
                    PsiWhiteSpace(' ')(2979,2980)
                    BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2980,3028)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2980,3009)
                        BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2980,3009)
                          BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2980,3009)
                            BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2980,2995)
                              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2980,2995)
                                PsiElement(identifier)('getAttributeStr')(2980,2995)
                            PsiElement(()('(')(2995,2996)
                            BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2996,3008)
                              BallerinaInvocationArgImpl(INVOCATION_ARG)(2996,3002)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2996,3002)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2996,3002)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(2996,3002)
                                      PsiElement(identifier)('caller')(2996,3002)
                              PsiElement(,)(',')(3002,3003)
                              PsiWhiteSpace(' ')(3003,3004)
                              BallerinaInvocationArgImpl(INVOCATION_ARG)(3004,3008)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3004,3008)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3004,3008)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(3004,3008)
                                      PsiElement(identifier)('NAME')(3004,3008)
                            PsiElement())(')')(3008,3009)
                      PsiWhiteSpace(' ')(3009,3010)
                      PsiElement(+)('+')(3010,3011)
                      PsiWhiteSpace(' ')(3011,3012)
                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(3012,3028)
                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(3012,3028)
                          PsiElement(QUOTED_STRING_LITERAL)('" left the chat"')(3012,3028)
                    PsiElement(;)(';')(3028,3029)
              PsiWhiteSpace('\n        ')(3029,3038)
              BallerinaStatementImpl(STATEMENT)(3038,3053)
                BallerinaExpressionStmtImpl(EXPRESSION_STMT)(3038,3053)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3038,3052)
                    BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(3038,3052)
                      BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(3038,3052)
                        BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(3038,3047)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3038,3047)
                            PsiElement(identifier)('broadcast')(3038,3047)
                        PsiElement(()('(')(3047,3048)
                        BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(3048,3051)
                          BallerinaInvocationArgImpl(INVOCATION_ARG)(3048,3051)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3048,3051)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3048,3051)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(3048,3051)
                                  PsiElement(identifier)('msg')(3048,3051)
                        PsiElement())(')')(3051,3052)
                  PsiElement(;)(';')(3052,3053)
              PsiWhiteSpace('\n    ')(3053,3058)
              PsiElement(})('}')(3058,3059)
          PsiWhiteSpace('\n')(3059,3060)
          PsiElement(})('}')(3060,3061)
      PsiElement(;)(';')(3061,3062)
  PsiWhiteSpace('\n\n')(3062,3064)
  PsiComment(LINE_COMMENT)('// Function to perform the broadcasting of text messages.')(3064,3121)
  PsiWhiteSpace('\n')(3121,3122)
  BallerinaDefinitionImpl(DEFINITION)(3122,3360)
    BallerinaFunctionDefinitionImpl(FUNCTION_DEFINITION)(3122,3360)
      PsiElement(function)('function')(3122,3130)
      PsiWhiteSpace(' ')(3130,3131)
      BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(3131,3153)
        BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3131,3140)
          PsiElement(identifier)('broadcast')(3131,3140)
        PsiElement(()('(')(3140,3141)
        BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(3141,3152)
          BallerinaParameterImpl(PARAMETER)(3141,3152)
            BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3141,3147)
              BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(3141,3147)
                PsiElement(string)('string')(3141,3147)
            PsiWhiteSpace(' ')(3147,3148)
            PsiElement(identifier)('text')(3148,3152)
        PsiElement())(')')(3152,3153)
      PsiWhiteSpace(' ')(3153,3154)
      BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(3154,3360)
        PsiElement({)('{')(3154,3155)
        PsiWhiteSpace('\n    ')(3155,3160)
        BallerinaStatementImpl(STATEMENT)(3160,3358)
          BallerinaForeachStatementImpl(FOREACH_STATEMENT)(3160,3358)
            PsiElement(foreach)('foreach')(3160,3167)
            PsiWhiteSpace(' ')(3167,3168)
            PsiElement(var)('var')(3168,3171)
            PsiWhiteSpace(' ')(3171,3172)
            BallerinaBindingPatternImpl(BINDING_PATTERN)(3172,3175)
              PsiElement(identifier)('con')(3172,3175)
            PsiWhiteSpace(' ')(3175,3176)
            PsiElement(in)('in')(3176,3178)
            PsiWhiteSpace(' ')(3178,3179)
            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3179,3193)
              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3179,3193)
                BallerinaNameReferenceImpl(NAME_REFERENCE)(3179,3193)
                  PsiElement(identifier)('connectionsMap')(3179,3193)
            PsiWhiteSpace(' ')(3193,3194)
            PsiElement({)('{')(3194,3195)
            PsiWhiteSpace('\n        ')(3195,3204)
            BallerinaBlockImpl(BLOCK)(3204,3352)
              BallerinaStatementImpl(STATEMENT)(3204,3234)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(3204,3234)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(3204,3234)
                    PsiElement(var)('var')(3204,3207)
                    PsiWhiteSpace(' ')(3207,3208)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(3208,3211)
                      PsiElement(identifier)('err')(3208,3211)
                    PsiWhiteSpace(' ')(3211,3212)
                    PsiElement(=)('=')(3212,3213)
                    PsiWhiteSpace(' ')(3213,3214)
                    BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(3214,3233)
                      BallerinaActionInvocationImpl(ACTION_INVOCATION)(3214,3233)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3214,3217)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(3214,3217)
                            PsiElement(identifier)('con')(3214,3217)
                        PsiElement(->)('->')(3217,3219)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(3219,3233)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(3219,3227)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3219,3227)
                              PsiElement(identifier)('pushText')(3219,3227)
                          PsiElement(()('(')(3227,3228)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(3228,3232)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(3228,3232)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3228,3232)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3228,3232)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(3228,3232)
                                    PsiElement(identifier)('text')(3228,3232)
                          PsiElement())(')')(3232,3233)
                    PsiElement(;)(';')(3233,3234)
              PsiWhiteSpace('\n        ')(3234,3243)
              BallerinaStatementImpl(STATEMENT)(3243,3352)
                BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(3243,3352)
                  BallerinaIfClauseImpl(IF_CLAUSE)(3243,3352)
                    PsiElement(if)('if')(3243,3245)
                    PsiWhiteSpace(' ')(3245,3246)
                    BallerinaGroupExpressionImpl(GROUP_EXPRESSION)(3246,3274)
                      PsiElement(()('(')(3246,3247)
                      BallerinaTypeTestExpressionImpl(TYPE_TEST_EXPRESSION)(3247,3273)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3247,3250)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3247,3250)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(3247,3250)
                              PsiElement(identifier)('err')(3247,3250)
                        PsiWhiteSpace(' ')(3250,3251)
                        PsiElement(is)('is')(3251,3253)
                        PsiWhiteSpace(' ')(3253,3254)
                        BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3254,3273)
                          BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(3254,3273)
                            BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(3254,3273)
                              BallerinaNameReferenceImpl(NAME_REFERENCE)(3254,3273)
                                BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(3254,3259)
                                  PsiElement(identifier)('http')(3254,3258)
                                  PsiElement(:)(':')(3258,3259)
                                PsiElement(identifier)('WebSocketError')(3259,3273)
                      PsiElement())(')')(3273,3274)
                    PsiWhiteSpace(' ')(3274,3275)
                    PsiElement({)('{')(3275,3276)
                    PsiWhiteSpace('\n            ')(3276,3289)
                    BallerinaBlockImpl(BLOCK)(3289,3342)
                      BallerinaStatementImpl(STATEMENT)(3289,3342)
                        BallerinaExpressionStmtImpl(EXPRESSION_STMT)(3289,3342)
                          BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3289,3341)
                            BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(3289,3341)
                              BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(3289,3341)
                                BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(3289,3303)
                                  BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(3289,3293)
                                    PsiElement(identifier)('log')(3289,3292)
                                    PsiElement(:)(':')(3292,3293)
                                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3293,3303)
                                    PsiElement(identifier)('printError')(3293,3303)
                                PsiElement(()('(')(3303,3304)
                                BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(3304,3340)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(3304,3327)
                                    BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(3304,3327)
                                      BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(3304,3327)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(3304,3327)
                                  PsiElement(,)(',')(3327,3328)
                                  PsiWhiteSpace(' ')(3328,3329)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(3329,3340)
                                    BallerinaTypeConversionExpressionImpl(TYPE_CONVERSION_EXPRESSION)(3329,3340)
                                      PsiElement(<)('<')(3329,3330)
                                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3330,3335)
                                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(3330,3335)
                                          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(3330,3335)
                                            BallerinaErrorTypeNameImpl(ERROR_TYPE_NAME)(3330,3335)
                                              PsiElement(error)('error')(3330,3335)
                                      PsiElement(>)('>')(3335,3336)
                                      PsiWhiteSpace(' ')(3336,3337)
                                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3337,3340)
                                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3337,3340)
                                          BallerinaNameReferenceImpl(NAME_REFERENCE)(3337,3340)
                                            PsiElement(identifier)('err')(3337,3340)
                                PsiElement())(')')(3340,3341)
                          PsiElement(;)(';')(3341,3342)
                    PsiWhiteSpace('\n        ')(3342,3351)
                    PsiElement(})('}')(3351,3352)
            PsiWhiteSpace('\n    ')(3352,3357)
            PsiElement(})('}')(3357,3358)
        PsiWhiteSpace('\n')(3358,3359)
        PsiElement(})('}')(3359,3360)
  PsiWhiteSpace('\n\n')(3360,3362)
  BallerinaDefinitionImpl(DEFINITION)(3362,3522)
    BallerinaFunctionDefinitionImpl(FUNCTION_DEFINITION)(3362,3522)
      PsiElement(function)('function')(3362,3370)
      PsiWhiteSpace(' ')(3370,3371)
      BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(3371,3453)
        BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3371,3386)
          PsiElement(identifier)('getAttributeStr')(3371,3386)
        PsiElement(()('(')(3386,3387)
        BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(3387,3422)
          BallerinaParameterImpl(PARAMETER)(3387,3410)
            BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3387,3407)
              BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(3387,3407)
                BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(3387,3407)
                  BallerinaNameReferenceImpl(NAME_REFERENCE)(3387,3407)
                    BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(3387,3392)
                      PsiElement(identifier)('http')(3387,3391)
                      PsiElement(:)(':')(3391,3392)
                    PsiElement(identifier)('WebSocketCaller')(3392,3407)
            PsiWhiteSpace(' ')(3407,3408)
            PsiElement(identifier)('ep')(3408,3410)
          PsiElement(,)(',')(3410,3411)
          PsiWhiteSpace(' ')(3411,3412)
          BallerinaParameterImpl(PARAMETER)(3412,3422)
            BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3412,3418)
              BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(3412,3418)
                PsiElement(string)('string')(3412,3418)
            PsiWhiteSpace(' ')(3418,3419)
            PsiElement(identifier)('key')(3419,3422)
        PsiElement())(')')(3422,3423)
        PsiWhiteSpace('\n             ')(3423,3437)
        BallerinaReturnParameterImpl(RETURN_PARAMETER)(3437,3453)
          PsiElement(returns)('returns')(3437,3444)
          PsiWhiteSpace(' ')(3444,3445)
          BallerinaGroupTypeNameImpl(GROUP_TYPE_NAME)(3445,3453)
            PsiElement(()('(')(3445,3446)
            BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3446,3452)
              BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(3446,3452)
                PsiElement(string)('string')(3446,3452)
            PsiElement())(')')(3452,3453)
      PsiWhiteSpace(' ')(3453,3454)
      BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(3454,3522)
        PsiElement({)('{')(3454,3455)
        PsiWhiteSpace('\n    ')(3455,3460)
        BallerinaStatementImpl(STATEMENT)(3460,3492)
          BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(3460,3492)
            BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(3460,3492)
              PsiElement(var)('var')(3460,3463)
              PsiWhiteSpace(' ')(3463,3464)
              BallerinaBindingPatternImpl(BINDING_PATTERN)(3464,3468)
                PsiElement(identifier)('name')(3464,3468)
              PsiWhiteSpace(' ')(3468,3469)
              PsiElement(=)('=')(3469,3470)
              PsiWhiteSpace(' ')(3470,3471)
              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3471,3491)
                BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(3471,3491)
                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3471,3473)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(3471,3473)
                      PsiElement(identifier)('ep')(3471,3473)
                  BallerinaInvocationImpl(INVOCATION)(3473,3491)
                    PsiElement(.)('.')(3473,3474)
                    BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3474,3486)
                      PsiElement(identifier)('getAttribute')(3474,3486)
                    PsiElement(()('(')(3486,3487)
                    BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(3487,3490)
                      BallerinaInvocationArgImpl(INVOCATION_ARG)(3487,3490)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3487,3490)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3487,3490)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(3487,3490)
                              PsiElement(identifier)('key')(3487,3490)
                    PsiElement())(')')(3490,3491)
              PsiElement(;)(';')(3491,3492)
        PsiWhiteSpace('\n    ')(3492,3497)
        BallerinaStatementImpl(STATEMENT)(3497,3520)
          BallerinaReturnStatementImpl(RETURN_STATEMENT)(3497,3520)
            PsiElement(return)('return')(3497,3503)
            PsiWhiteSpace(' ')(3503,3504)
            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3504,3519)
              BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(3504,3519)
                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3504,3508)
                  BallerinaNameReferenceImpl(NAME_REFERENCE)(3504,3508)
                    PsiElement(identifier)('name')(3504,3508)
                BallerinaInvocationImpl(INVOCATION)(3508,3519)
                  PsiElement(.)('.')(3508,3509)
                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3509,3517)
                    PsiElement(identifier)('toString')(3509,3517)
                  PsiElement(()('(')(3517,3518)
                  PsiElement())(')')(3518,3519)
            PsiElement(;)(';')(3519,3520)
        PsiWhiteSpace('\n')(3520,3521)
        PsiElement(})('}')(3521,3522)
